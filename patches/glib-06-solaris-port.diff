diff -rup glib-2.28.6/gio/tests/de.po ../amd64/glib-2.28.6/gio/tests/de.po
--- glib-2.28.6/gio/tests/de.po	2010-09-27 20:48:33.000000000 +0200
+++ ../amd64/glib-2.28.6/gio/tests/de.po	2011-04-18 10:56:45.263772192 +0200
@@ -12,6 +12,5 @@ msgstr ""
 msgid "\"Unnamed\""
 msgstr "\"Unbenannt\""
 
-msgctxt "keyboard label"
 msgid "\"BackSpace\""
 msgstr "\"LÃ¶schen\""
diff -rup glib-2.28.6/glib/Makefile.am ../amd64/glib-2.28.6/glib/Makefile.am
--- glib-2.28.6/glib/Makefile.am	2011-04-14 00:55:29.000000000 +0200
+++ ../amd64/glib-2.28.6/glib/Makefile.am	2011-04-18 10:56:31.979293844 +0200
@@ -355,10 +355,10 @@ INSTALL_PROGS=
 
 if ENABLE_DTRACE
 glib_probes.h: glib_probes.d Makefile
-	$(AM_V_GEN) $(DTRACE) -C -h -s $< -o $@.tmp
+	$(AM_V_GEN) $(DTRACE) $(DFLAGS) -C -h -s $< -o $@.tmp
 	@$(SED) -e "s,define STAP_HAS_SEMAPHORES 1,undef STAP_HAS_SEMAPHORES," < $@.tmp > $@ && rm -f $@.tmp
 glib_probes.o: glib_probes.d Makefile
-	$(AM_V_GEN) $(DTRACE) -G -s $< -o $@
+	$(AM_V_GEN) $(DTRACE) $(DFLAGS) -G -s $< -o $@
 BUILT_SOURCES += glib_probes.h glib_probes.o
 CLEANFILES += glib_probes.h glib_probes.h.tmp
 libglib_2_0_la_LIBADD += glib_probes.o
--- glib-2.32.1/glib/tests/Makefile.am-orig	2012-04-30 02:43:00.786262102 -0500
+++ glib-2.32.1/glib/tests/Makefile.am	2012-04-30 02:50:38.186059900 -0500
@@ -47,6 +47,7 @@ rand_LDADD         = $(progs_ldadd) -lm
 TEST_PROGS        += strfuncs
 strfuncs_SOURCES   = strfuncs.c
 strfuncs_LDADD	   = $(progs_ldadd) -lm
+strfuncs_CFLAGS    = -xc99
 
 TEST_PROGS        += string
 string_SOURCES     = string.c
@@ -266,7 +267,7 @@ gwakeup_fallback_LDADD    = $(progs_ldad
 endif
 
 if OS_UNIX
-private_LDFLAGS = -pthread
+#private_LDFLAGS = -pthread
 
 TEST_PROGS += unix-multithreaded
 unix_multithreaded_SOURCES = $(top_srcdir)/glib/tests/unix.c
--- glib-2.32.1/glib/tests/mem-overflow.c-orig	2012-04-30 02:46:52.355266148 -0500
+++ glib-2.32.1/glib/tests/mem-overflow.c	2012-04-30 02:47:01.821642110 -0500
@@ -128,6 +128,7 @@ mem_overflow (void)
 
 typedef struct
 {
+   gboolean dummy;
 } Empty;
 
 static void
--- glib-2.32.1/gio/gsocket.c-orig	2012-04-30 03:31:25.633875422 -0500
+++ glib-2.32.1/gio/gsocket.c	2012-04-30 03:27:30.732696618 -0500
@@ -43,6 +43,9 @@
 # include <unistd.h>
 # include <sys/ioctl.h>
 #endif
+#ifdef __sun
+#include <sys/filio.h>
+#endif
 
 #ifdef HAVE_SYS_UIO_H
 #include <sys/uio.h>
