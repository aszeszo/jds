<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!--ARC : LSARC 2001/384 Gtk+ 2.0 / glib 2.0-->
<!--ARC : LSARC 2001/781 location of GTK/Glib-->
<!--ARC : PSARC 2001/804 GTK/Glib becomes Contracted External-->
<!ENTITY cmd "gtk-query-immodules-2.0">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY suncopy "Copyright (c) 2003,2006,2007 Sun Microsystems, Inc. All Rights Reserved.">
]>
<refentry id="gtk-query-immodules-20-1">
<!-- %Z%%M% %I% %E% SMI; -->
<refmeta>
<refentrytitle>gtk-query-immodules-2.0</refentrytitle><manvolnum>1</manvolnum>
<refmiscinfo class="date">21 Oct 2007</refmiscinfo>
<refmiscinfo class="sectdesc">&man1;</refmiscinfo>
<refmiscinfo class="software">&release;</refmiscinfo>
<refmiscinfo class="arch">generic</refmiscinfo>
<refmiscinfo class="copyright">&suncopy;</refmiscinfo>
</refmeta>
<indexterm><primary>gtk-query-immodules-2.0</primary></indexterm>
<indexterm><primary>create a cache file used by GTK+ to efficiently locate
input method modules</primary></indexterm>
<refnamediv id="gtk-query-immodules-20-1-name">
<refname>gtk-query-immodules-2.0</refname>
<refpurpose>create a cache file used by GTK+ to efficiently locate input method
modules</refpurpose>
</refnamediv>
<refsynopsisdiv id="gtk-query-immodules-20-1-synp"><title>&synp-tt;</title>
<cmdsynopsis><command>&cmd;</command>
<arg choice="opt"><option role="nodash"><replaceable>immodule</replaceable></option></arg>
<arg choice="opt" rep="repeat"><option role="nodash"><replaceable>immodule</replaceable></option></arg>
</cmdsynopsis></refsynopsisdiv>

<refsect1 id="gtk-query-immodules-20-1-desc"><title>&desc-tt;</title>
<para>
<command>&cmd;</command> searches for input method (IM) modules for GTK+ and
and writes information about them to <literal>stdout</literal>.  If the output
is redirected to <filename>/etc/gtk-2.0/gtk.immodules</filename>, then this
will cause the GTK+ library to use these modules by default.  This program is
typically used by developers who are packaging GTK+ software which adds
additional modules.
</para>

<para>
IM modules can be selected by right-clicking on input fields when running GTK+
programs. An input method is a software component that converts key presses
into text input that cannot be typed directly. Input methods are normally
used to input text for languages that have more characters than can fit on
a standard keyboard. Input methods are commonly used for Japanese, Chinese,
and Korean text but are also used for other languages such as Thai and Hindi. 
</para>

<para>
If any modules are specified on the command line, <command>&cmd;</command> only
looks at those particular files. If no modules are specified on the command
line, <command>&cmd;</command> scans the user's GTK_PATH environment variable
and looks at all IM modules that are specified there.
</para>

<para>
When run, <command>&cmd;</command> creates context information for each module.
Each module has one or more contexts. If no IM modules are specified on the
command line, the scanned paths are included as a comment in the output.
</para>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-opts"><title>&opts-tt;</title>
<para>
None.
</para>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-oper"><title>&oper-tt;</title>
<para>
The following operands are supported:
</para>

<variablelist termlength="narrow"><varlistentry>
<term><option role="nodash"><replaceable>immodule</replaceable></option></term>
<listitem><para>
Specify the pathname to an IM module. This can be a full pathname, or relative
to the current working directory.
</para></listitem></varlistentry>
</variablelist>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-exam"><title>&exam-tt;</title>
<example role="example">
<title>Installing a new Input Method module <filename>myimmodule.so</filename></title>
<para>
<screen>
example% <userinput>gtk_version=`pkg-config --variable=gtk_binary_version gtk-2.0`</userinput>
</screen>
<screen>
example% <userinput>cp myimmodule.so <filename>/usr/lib/gtk-2.0/$gtk_version/immodules</filename></userinput>
</screen>
<screen>
example% <userinput>&cmd; &gt; <filename>/etc/gtk-2.0/gtk.immodules</filename></userinput>
</screen></para>
</example>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-envr"><title>&envr-tt;</title>
<para>
See
<citerefentry><refentrytitle>environ</refentrytitle>
<manvolnum>5</manvolnum></citerefentry>
for descriptions of the following environment variables that affect the
execution of <command>&cmd;</command>:
</para>

<variablelist termlength="medium"><varlistentry>
<term><filename>GTK_PATH</filename></term>
<listitem><para>
Specifies directories to prepend to the input method module path.
</para></listitem></varlistentry>
<varlistentry>
<term><filename>GTK_IM_MODULE</filename></term>
<listitem><para>
Specifies what IM modules to use, in preference to the IM module determined
from the locale
</para></listitem></varlistentry>
<varlistentry>
<term><filename>GTK_IM_MODULE_FILE</filename></term>
<listitem><para>
Specifies the file that lists the IM modules to load. This environment variable
overrides the <literal>im_module_file</literal> specified in the RC files,
which in turn overrides the default value in the system
<filename>gtk.immodules</filename> file.
</para></listitem></varlistentry>
</variablelist>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-exit"><title>&exit-tt;</title>
<para>
The following exit values are returned:
</para>

<variablelist termlength="xtranarrow"><varlistentry>
<term><returnvalue>0</returnvalue></term>
<listitem><para>
Application exited successfully
</para></listitem></varlistentry>
<varlistentry>
<term><returnvalue>>0</returnvalue></term>
<listitem><para>
Application exited with failure
</para></listitem></varlistentry>
</variablelist>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-file"><title>&file-tt;</title>
<para>
The following files are used by this application:
</para>

<variablelist termlength="wholeline"><varlistentry>
<term><filename>/usr/bin/&cmd;</filename></term>
<listitem><para>
The command-line executable for the application.
</para></listitem></varlistentry>
<varlistentry>
<term><filename>/usr/lib/gtk-2.0/<replaceable>version</replaceable>/immodules</filename></term>
<listitem><para>
Default location of IM modules.
</para></listitem></varlistentry>
<varlistentry>
<term><filename>/etc/gtk-2.0/gtk.immodules</filename></term>
<listitem><para>
The GTK+ input method modules file.
</para></listitem></varlistentry>
<varlistentry>
<term><filename>/usr/share/gtk-doc/html/gtk</filename></term>
<listitem><para>
Location of developer documentation
</para></listitem></varlistentry>
</variablelist>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-attr"><title>&attr-tt;</title>
<para>
See
<olink targetdocent="REFMAN5" localinfo="attributes-5">
<citerefentry><refentrytitle>attributes</refentrytitle>
<manvolnum>5</manvolnum></citerefentry></olink>
for descriptions of the following attributes:
</para>

<informaltable frame="all">
<tgroup cols="2" colsep="1" rowsep="1">
<colspec colname="COLSPEC0" colwidth="1*">
<colspec colname="COLSPEC1" colwidth="1*">
<thead>
<row>
<entry align="center" valign="middle">ATTRIBUTE TYPE</entry>
<entry align="center" valign="middle">ATTRIBUTE VALUE</entry>
</row>
</thead>
<tbody>
<row>
<entry><para>Availability</para></entry>
<entry><para>library/desktop/gtk2</para></entry>
</row>
<row>
<entry colname="COLSPEC0"><para>Interface stability</para></entry>
<entry colname="COLSPEC1"><para>Committed</para></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-also"><title>&also-tt;</title>
<!--Reference to another man page-->
<!--Reference to a Help manual-->
<!--Reference to a book.-->
<para>
<citerefentry><refentrytitle>gdk-pixbuf-csource</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>gdk-pixbuf-query-loaders</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>glib-genmarshal</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>glib-gettextize</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>glib-mkenums</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>gobject-query</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>gtk-update-icon-cache</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>libgtk-x11-2.0</refentrytitle><manvolnum>3</manvolnum></citerefentry>,
<citerefentry><refentrytitle>attributes</refentrytitle><manvolnum>5</manvolnum></citerefentry>,
<citerefentry><refentrytitle>environ</refentrytitle><manvolnum>5</manvolnum></citerefentry>,
<citerefentry><refentrytitle>gnome-interfaces</refentrytitle><manvolnum>5</manvolnum></citerefentry>
</para>
</refsect1>

<refsect1 id="gtk-query-immodules-20-1-note"><title>&note-tt;</title>
<para>
Written by Brian Cameron, Sun Microsystems Inc., 2003, 2006, 2007.
</para>
</refsect1>
</refentry>
